<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Rust Iterator Cheat Sheet</title>
<script class="build-only" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script class="build-only" type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<style type="text/css">

a {
    text-decoration: none;
}

table.summary {
    border-collapse: collapse;
    width: 100%;
}

table.summary tr {
    border-top: 1px black solid;
    border-bottom: 1px black solid;
}

table.summary td, table.summary th {
    padding: 0.5em 0.4em;
}

table.summary tr.tag-unstable {
    background-color: orange;
}

table.summary .flex-cell {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: stretch;
    align-content: space-around;
}

</style>
<style type="text/css" class="build-only">

#build-status {
    position: absolute;
    top: 1em;
    right: 1em;
}

#build-status > div {
    position: fixed;
    background-color: black;
    color: white;
    padding: 0.5em 1em;
    right: 1em;
}

</style>
</head>
<body>
    <div id="build-status"><div>Building...</div></div>

    <h1>Rust Iterator Cheat Sheet</h1>

    <p><strong>Last updated</strong>: Rust 1.17.0, Itertools 0.6.0.</p>

    <p><strong>To-do:</strong></p>

    <ul>
        <li>Improve formatting.</li>
        <li>Try to fix display bugs (lines through cells).</li>
        <li>Add sorting... <em>somehow</em></li>
    </ul>

    <p><strong>How you can help:</strong></p>

    <p>I need feedback on what does and doesn't work.  Can you understand the summaries?  Do they mesh with how you perceive the methods in question work?  What other information could/should be included?</p>

    <p>If you have any corrections or suggestions, you can file them on <a href="https://github.com/DanielKeep/DanielKeep.github.io">the GitHub repository</a>.  The canonical source for this page is <code>src/itercheat/itercheat.html</code>.</p>

    <hr>

    <p><strong>Jump to</strong>: <span id="jump-list"></span>.</p>

    <hr>

    <p>This summarises the iterator-related methods defined by the following Rust libraries:</p>

    <ul>
        <li><p><label><input class="lib-toggle" data-lib="std" id="lib-std" name="lib-std" type="checkbox" checked> <strong>Std</strong></label>: the Rust standard library.  Methods are defined on the <a href="http://doc.rust-lang.org/std/iter/trait.Iterator.html"><code>std::iter::Iterator</code></a> trait.</p></li>
        <li><p><label><input class="lib-toggle" data-lib="itertools" id="lib-itertools" name="lib-itertools" type="checkbox" checked> <strong>IT</strong></label>: the <a href="https://crates.io/crates/itertools"><code>itertools</code></a> library.  Methods are defined on the <a href="https://docs.rs/itertools/*/itertools/trait.Itertools.html"><code>itertools::Itertools</code></a> trait.</p></li>
    </ul>

    <p>Additional filtering options:</p>

    <ul>
        <li><p><label><input class="tag-toggle" data-tag="unstable" id="tag-unstable" name="tag-unstable" type="checkbox"> <strong>Unstable</strong></label>: show unstable methods.</p></li>
    </ul>

    <p>This is intended to be used in one of a few ways:</p>

    <ol>
        <li>You know what an iterator method is <em>called</em>, but you want a quick summary of what it does.</li>
        <li>You know what you want to <em>do with an iterator</em>, but not what it's called.</li>
        <li>You just want to browse through a summary of the available methods because you're bored.</li>
    </ol>

    <p>To keep the summary as compact as possible, various bits of notation and convention are used.  An incomplete list is:</p>

    <ul>
        <li><p>Most iterator methods take their first input <em>by-value</em>; those that don't are marked with a \(\text{&amp;mut}\) out the front of their first argument.</p></li>

        <li><p>Elements are <em>underlined</em> to indicate that the method <em>will not</em> compute those elements during the course of its own evaluation.</p></li>

        <li><p>\(\{\ldots\}\) is used to represent a lazily computed sequence; <em>i.e.</em> an iterator.</p></li>

        <li><p>\(\{\ldots\}:\{T\}\) indicates an iterator where each element is of type <code>T</code>.</p></li>

        <li><p>\(a\) and \(b\) are used as input sequences (with subscripted letters denoting individual elements).</p></li>

        <li><p>\(c\) is used to represent the output sequence in cases where there is no direct mapping of input elements to output elements.</p></li>

        <li><p>\(i\), \(j\), and \(k\) are used to denote specific, but arbitrary, points within sequences.</p></li>

        <li><p>\(n\), \(m\), and \(l\) are used to denote the length of different sequences.</p></li>

        <li><p>\([\ldots]\) is used to represent a collection of <em>arbitrary type</em>.  Typically, the exact type is inferred from context, and can be anything that implements the <code>FromIterator</code> trait.</p></li>

        <li><p>\(f\) is a function which transforms elements.</p></li>

        <li><p>\(p\) is a predicate which determines some logical property of elements.</p></li>

        <li><p>\(\circ\) is an arbitrary binary function.</p></li>

        <li><p>\(\langle \ldots\rangle \) is used to indicate a generic type argument contains relevant information.</p></li>

        <li><p>\(\text{wh.}\) is an abbreviation for "where".</p></li>
    </ul>

    <h2 id="sec-generators">Generators</h2>

    <table class="summary">
    <thead>
        <tr>
            <th>Lib</td>
            <th>Function</th>
            <th colspan="2">Input</th>
            <th>Output</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Std</td>
            <td data-doc-link="http://doc.rust-lang.org/std/iter/fn.empty.html">empty</td>
            <td colspan="2"></td>
            <td>\(\{\}\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td data-doc-link="https://doc.rust-lang.org/std/iter/fn.successors.html">successors</td>
            <td>\(x : \text{Some}(T) ~|~ \text{None}\)</td>
            <td>\(f : \text{&amp;}T \rightarrow \text{Some}(T) ~|~ \text{None}\)</td>
            <td>\(
                \{c_0, \ldots, c_{l-1}\} \text{ wh.} \\~~
                    \text{Some}(c_0) = x, \\~~
                    \text{Some}(c_1) = f(\text{&amp;mut } c_0), \\~~
                    \ldots, \\~~
                    \text{Some}(c_{l-1}) = f(\text{&amp;mut } c_{l-2}), \\~~
                    \text{None} = f(\text{&amp;mut } c_{l-1})
            \)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td data-doc-link="https://docs.rs/itertools/*/itertools/fn.iterate.html">iterate</td>
            <td>\(x : T\)</td>
            <td>\(f : \text{&amp;}T \rightarrow T\)</td>
            <td>\(\{x, f(x), f(f(x)), \ldots\}\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td data-doc-link="http://doc.rust-lang.org/std/iter/fn.once.html">once</td>
            <td colspan="2">\(a\)</td>
            <td>\(\{a\}\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td data-doc-link="http://doc.rust-lang.org/std/iter/fn.repeat.html">repeat</td>
            <td colspan="2">\(a\)</td>
            <td>\(\{a, a, \ldots\}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td data-doc-link="https://docs.rs/itertools/*/itertools/fn.repeat_call.html">repeat_call</td>
            <td colspan="2">\(f: () \rightarrow T\)</td>
            <td>\(\{f(), f(), \ldots\}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td data-doc-link="https://docs.rs/itertools/*/itertools/fn.repeat_n.html">repeat_n</td>
            <td>\(a\),</td>
            <td>\(n\)</td>
            <td>\(\{\underbrace{a, a, \ldots, a}_{n}\}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td data-doc-link="https://docs.rs/itertools/*/itertools/fn.unfold.html">unfold</td>
            <td>\(s:S\),</td>
            <td>\(f: \text{&amp;mut } S \rightarrow \text{Some}(T) ~|~ \text{None}\)</td>
            <td>\(
                \{c_0, \ldots, c_{l-1}\} \text{ wh.} \\~~
                    \text{Some}(c_0) = f(\text{&amp;mut } s), \\~~
                    \ldots, \\~~
                    \text{Some}(c_{l-1}) = f(\text{&amp;mut } s), \\~~
                    \text{None} = f(\text{&amp;mut } s)
            \)</td>
        </tr>
    </tbody>
    </table>

    <h2 id="sec-sequences">Sequences</h2>

    <table class="summary">
    <thead>
        <tr>
            <th>Lib</td>
            <th>Method</th>
            <th colspan="2">Input</th>
            <th>Output</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>IT</td>
            <td>batching</td>
            <td>\(\{\underbrace{a_0, \ldots},
                \underbrace{a_i,\ldots},
                \ldots\}:\{T\}\),</td>
            <td>\(batch : \text{&amp;mut }\{T\} \rightarrow U\)</td>
            <td>\(\{\underbrace{c_0}_{batch(\{a_0, \ldots\})},
                \underbrace{c_1}_{batch(\{a_i, \ldots\})},
                \ldots\}:\{U\}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>cartesian_product</td>
            <td>\(\{a_0, a_1, \ldots, a_{n-1}\}\),</td>
            <td>\(\{b_0, b_1, \ldots, b_{m-1}\}\)</td>
            <td>\(\{(a_0, b_0), (a_0, b_1), \ldots, (a_0, b_{m-1}),\\~~
                (a_1, b_0), (a_1, b_1), \ldots, (a_1, b_{m-1})\\~~
                \ldots,\\~~
                (a_{n-1}, b_0), (a_{n-1}, b_1), \ldots, (a_{n-1}, b_{m-1})\}\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>chain</td>
            <td>\(\{a_0, \ldots, a_{n-1}\}\),</td>
            <td>\(\{b_0, \ldots, b_{m-1}\}\)</td>
            <td>\(\{a_0, \ldots, a_{n-1}, b_0, \ldots, b_{m-1}\}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>chunks</td>
            <td>\(\{a_0, \ldots\}\),</td>
            <td>\(m\)</td>
            <td>\(
                \{
                    \{a_0, \ldots, a_{m-1}\},
                    \{a_m, \ldots, a_{2m-1}\},
                    \ldots
                \}
            \)</td>
        </tr>

        <tr>
            <td rowspan="3">Std</td>
            <td rowspan="3">cmp</td>
            <td>\(\{a_0, \ldots, a_{i}\}\),</td>
            <td>\(\{b_0, \ldots, b_{i}, b_{i+1}, \underline{\ldots}\}\)</td>
            <td>\(\text{cmp}(a_0, b_0) \text{ then } \ldots \text{ then } \text{cmp}(a_i, b_i) \text{ then } \text{Less}\)</td>
        </tr>
        <tr>
            <td>\(\{a_0, \ldots, a_{i}\}\),</td>
            <td>\(\{b_0, \ldots, b_{i}\}\)</td>
            <td>\(\text{cmp}(a_0, b_0) \text{ then } \ldots \text{ then } \text{cmp}(a_i, b_i) \text{ then } \text{Equal}\)</td>
        </tr>
        <tr>
            <td>\(\{a_0, \ldots, a_{i}, a_{i+1}, \underline{\ldots}\}\),</td>
            <td>\(\{b_0, \ldots, b_{i}\}\)</td>
            <td>\(\text{cmp}(a_0, b_0) \text{ then } \ldots \text{ then } \text{cmp}(a_i, b_i) \text{ then } \text{Greater}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>coalesce</td>
            <td>\(\{a_0, a_1, a_2, \ldots\}\)</td>
            <td>\(f : (T,T) \rightarrow \text{Ok}(T) ~|~ \text{Err}((T, T))\)</td>
            <td>
                \(
                    \begin{array}{llcl}
                    &amp; \{x_0, \ldots\} &amp;\text{wh.}&amp;
                        \left\{\begin{array}{l}
                            f(a_0, a_1) = \text{Ok}(x_0), \\
                            \ldots
                        \end{array}\right. \\
                    \text{or} &amp; \{a'_0, x_1, \ldots\} &amp;\text{wh.}&amp;
                        \left\{\begin{array}{l}
                            f(a_0, a_1) = \text{Err}((a'_0, a'_1)), \\
                            f(a'_1, a_2) = \text{Ok}(x_1), \\
                            \ldots
                        \end{array}\right. \\
                    \text{or} &amp; \{a'_0, a''_1, \ldots\} &amp;\text{wh.}&amp;
                        \left\{\begin{array}{l}
                            f(a_0, a_1) = \text{Err}((a'_0, a'_1)), \\
                            f(a'_1, a_2) = \text{Err}(a''_1, a'_2), \\
                            \ldots
                        \end{array}\right.
                    \end{array}
                \)
            </td>
        </tr>

        <tr>
            <td>Std</td>
            <td>collect</td>
            <td colspan="2">\(\{a_0, \ldots\}\)</td>
            <td>\([a_0, \ldots]\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>collect_vec</td>
            <td colspan="2">\(\{a_0, \ldots\}\)</td>
            <td>\([a_0, \ldots] : \text{Vec}\langle T\rangle\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>cycle</td>
            <td colspan="2">\(\{a_0, \ldots, a_{n-1}\}\)</td>
            <td>\(\{a_0, \ldots, a_{n-1}, a_0, \ldots, a_{n-1}, \ldots\}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>dedup</td>
            <td colspan="2">\(\{\underbrace{a_0, a_0, \ldots}, \underbrace{a_1, a_1, \ldots}, \ldots\}\)</td>
            <td>\(\{a_0, a_1, \ldots\}\)</td>
        </tr>

        <tr>
            <td rowspan="2">IT</td>
            <td rowspan="2">dropping</td>
            <td>\(\{\underbrace{a_0, \ldots, a_{i-1}}_{\text{consumed}}, a_i, \ldots\}\)</td>
            <td>\(i \text{ wh. } i \lt n\)</td>
            <td>\(\{a_i, \ldots\}\) (consumes \(a_0 \ldots a_{i-1}\) immediately)</td>
        </tr>
        <tr>
            <td>\(\{\underbrace{a_0, \ldots, a_{n-1}}_{\text{consumed}}\}\)</td>
            <td>\(i \text{ wh. } i \ge n\)</td>
            <td>\(\{\}\) (consumes \(a_0 \ldots a_{n-1}\) immediately)</td>
        </tr>

        <tr>
            <td rowspan="2">IT</td>
            <td rowspan="2">dropping_back</td>
            <td>\(\{a_0, \ldots, a_{n-i-1}, \underbrace{a_{n-i}, \ldots, a_{n-1}}_{\text{consumed}}\}\)</td>
            <td>\(i \text{ wh. } i \lt n\)</td>
            <td>\(\{a_0, \ldots, a_{n-i-1}\}\) (consumes \(a_{n-i} \ldots a_n\) immediately)</td>
        </tr>
        <tr>
            <td>\(\{\underbrace{a_0, \ldots, a_{n-1}}_{\text{consumed}}\}\)</td>
            <td>\(i \text{ wh. } i \ge n\)</td>
            <td>\(\{\}\) (consumes \(a_0 \ldots a_n\) immediately)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>enumerate</td>
            <td colspan="2">\(\{a_0, a_1, \ldots\}\)</td>
            <td>\(\{(0, a_0), (1, a_1), \ldots\}\)</td>
        </tr>

        <tr>
            <td rowspan="2">Std</td>
            <td rowspan="2">eq</td>
            <td rowspan="2">\(\{a_0, \ldots, a_{n-1}\}\),</td>
            <td rowspan="2">\(\{b_0, \ldots, b_{m-1}\}\)</td>
            <td>\(\text{false} \text{ wh. } n \neq m\)</td>
        </tr>
        <tr>
            <td>\((a_0 = b_0) \land \ldots \land (a_{n-1} = b_{n-1})\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>filter</td>
            <td>\(\{a_0, a_1, \ldots\}\),</td>
            <td>\(p : \text{&amp;}T \rightarrow \text{bool}\)</td>
            <td>\(\{a_i \text{ for all } i \text{ wh. } p(\text{&amp;}a_i)\}\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>filter_map</td>
            <td>\(\{a_0, a_1, \ldots\}\),</td>
            <td>\(f : T \rightarrow \text{Some}(U) ~|~ \text{None}\)</td>
            <td>\(\{x_i \text{ for all } i \text { where } f(a_i) = \text{Some}(x_i)\}\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>flat_map</td>
            <td>\(\{a_0, a_1, \ldots\}\),</td>
            <td>\(f : T \rightarrow \{U\}\)</td>
            <td>\(\{\underbrace{x_0, x_1, \ldots}_{x = f(a_0)},
                    \underbrace{y_0, y_1, \ldots}_{y = f(a_1)}, \ldots\}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>flatten</td>
            <td colspan="2">\(\{\{a_0, \ldots\}, \{b_0, \ldots\}, \ldots\}\),</td>
            <td>\(\{a_0, \ldots, b_0, \ldots\}\)</td>
        </tr>

        <tr>
            <td rowspan="2">Std</td>
            <td rowspan="2">ge</td>
            <td rowspan="2">\(\{a_0, \ldots, a_{n-1}\}\),</td>
            <td rowspan="2">\(\{b_0, \ldots, b_{m-1}\}\)</td>
            <td>\(\text{false} \text{ wh. } n &lt; m\)</td>
        </tr>
        <tr>
            <td>\((a_0 \geq b_0) \land \ldots \land (a_{n-1} \geq b_{n-1})\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>group_by</td>
            <td>\(\{\underbrace{a_0, \ldots, a_{i-1}}_{g(a_x) = g_0},
                \underbrace{a_i, \ldots, a_{j-1}}_{g(a_y) = g_1 \ne g_0},
                \underbrace{a_j, \ldots, a_{k-1}}_{g(a_z) = g_2 \ne g_1},
                \ldots\}\),</td>
            <td>\(g : \text{&amp;}T \rightarrow G\)</td>
            <td>\(
                \{
                    (g_0, \{a_0, \ldots, a_{i-1}\}),\\~~
                    (g_1, \{a_i, \ldots, a_{j-1}\}),\\~~
                    (g_2, \{a_j, \ldots, a_{k-1}\}),
                    \ldots
                \}
            \)</td>
        </tr>

        <tr>
            <td rowspan="2">Std</td>
            <td rowspan="2">gt</td>
            <td rowspan="2">\(\{a_0, \ldots, a_{n-1}\}\),</td>
            <td rowspan="2">\(\{b_0, \ldots, b_{m-1}\}\)</td>
            <td>\(\text{false} \text{ wh. } n &lt; m\)</td>
        </tr>
        <tr>
            <td>\((a_0 &gt; b_0) \land \ldots \land (a_{n-1} &gt; b_{n-1})\)</td>
        </tr>

        <tr>
            <td rowspan="3">IT</td>
            <td rowspan="3">interleave</td>
            <td>\(\{a_0, a_1, \ldots, a_{i-1}, a_i, \ldots\}\),</td>
            <td>\(\{b_0, b_1, \ldots, b_{i-1}\}\)</td>
            <td>\(\{a_0, b_0, a_1, b_1, \ldots, a_{i-1}, b_{i-1}, a_i, \ldots\}\)</td>
        </tr>
        <tr>
            <td>\(\{a_0, a_1, \ldots, a_{i-1}\}\),</td>
            <td>\(\{b_0, b_1, \ldots, b_{i-1}\}\)</td>
            <td>\(\{a_0, b_0, a_1, b_1, \ldots, a_{i-1}, b_{i-1}\}\)</td>
        </tr>
        <tr>
            <td>\(\{a_0, a_1, \ldots, a_{i-1}\}\),</td>
            <td>\(\{b_0, b_1, \ldots, b_{i-1}, b_i, \ldots\}\)</td>
            <td>\(\{a_0, b_0, a_1, b_1, \ldots, a_{i-1}, b_{i-1}, b_i, \ldots\}\)</td>
        </tr>

        <tr>
            <td rowspan="2">IT</td>
            <td rowspan="2">interleave_shortest</td>
            <td>\(\{a_0, a_1, \ldots, a_{i-1}, a_i, \underline{\ldots}\}\),</td>
            <td>\(\{b_0, b_1, \ldots, b_{i-1}\}\)</td>
            <td>\(\{a_0, b_0, a_1, b_1, \ldots, a_{i-1}, b_{i-1}, a_i\}\)</td>
        </tr>
        <tr>
            <td>\(\{a_0, a_1, \ldots, a_{i-1}\}\)</td>
            <td>\(\{b_0, b_1, \ldots, b_{i-1}, \underline{b_i, \ldots}\}\)</td>
            <td>\(\{a_0, b_0, a_1, b_1, \ldots, a_{i-1}, b_{i-1}\}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>intersperse</td>
            <td>\(\{a_0, a_1, \ldots, a_{n-1}\}\)</td>
            <td>\(b\)</td>
            <td>\(\{a_0, b, a_1, b, \ldots, b, a_{n-1}\}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>kmerge</td>
            <td colspan="2">\(
                \{
                    \{a_0, \ldots\},
                    \{b_0, \ldots\},
                    \ldots
                \}
                \text{ wh.} \\~~
                \text{sorted}(a), \text{ sorted}(b), \ldots
            \)</td>
            <td>\(\{
                c_0, c_1, \ldots
            \} \text{ wh. }
                c_0 \le c_1 \le \ldots, \\~~
                a \subseteq c,
                b \subseteq c,
                \ldots
            \)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>kmerge_by</td>
            <td>\(
                \{
                    \{a_0, \ldots\},
                    \{b_0, \ldots\},
                    \ldots
                \}
                \text{ wh.} \\~~
                \text{sorted_by}(a, {}\circ{}), \text{ sorted_by}(b, {}\circ{}), \ldots
            \),</td>
            <td>\({}\circ{} : (\text{&amp;}T,\text{&amp;}T) \rightarrow \text{bool}\)</td>
            <td>\(\{
                c_0, c_1, \ldots
            \} \text{ wh. }
                c_0 \circ c_1 \circ \ldots, \\~~
                a \subseteq c,
                b \subseteq c,
                \ldots
            \)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>map</td>
            <td>\(\{a_0, a_1, \ldots\}\),</td>
            <td>\(f : T \rightarrow U\)</td>
            <td>\(\{f(a_0), f(a_1), \ldots\}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>map_fn</td>
            <td>\(\{a_0, a_1, \ldots\}\),</td>
            <td>\(f : \text{fn}(T) \rightarrow U\)</td>
            <td>\(\{f(a_0), f(a_1), \ldots\}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>map_results</td>
            <td>\(\{a_0, \ldots\} : \{\text{Ok}(T) ~|~ \text{Err}(E)\}\),</td>
            <td>\(f : (T) \rightarrow U\)</td>
            <td>\(\{
                a_0.\text{map}(f),
                \ldots
            \} : \{\text{Ok}(U) ~|~ \text{Err}(E)\}\)</td>
        </tr>

        <tr>
            <td rowspan="1">IT</td>
            <td rowspan="1">merge</td>
            <td rowspan="1">\(\{a_0, a_1, \ldots\} \text{ wh. } a_0 \le a_1 \le \ldots\),</td>
            <td rowspan="1">\(\{b_0, b_1, \ldots\} \text{ wh. } b_0 \le b_1 \le \ldots\)</td>
            <td>\(\{c_0, c_1, \ldots\} \text{ wh. } c_0 \le c_1 \le \ldots, a \subseteq c, b \subseteq c\)</td>
        </tr>

        <tr>
            <td rowspan="1">IT</td>
            <td rowspan="1">merge_by</td>
            <td rowspan="1">\(\{a_0, a_1, \ldots\} \text{ wh. } a_0 \circ a_1 \circ \ldots\),</td>
            <td rowspan="1">\(\{b_0, b_1, \ldots\} \text{ wh. } b_0 \circ b_1 \circ \ldots\),
                \({}\circ{} : (\text{&amp;}T,\text{&amp;}T) \rightarrow \text{Ordering}\)</td>
            <td>\(\{c_0, c_1, \ldots\} \text{ wh. } c_0 \circ c_1 \circ \ldots, a \subseteq c, b \subseteq c\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>pad_using</td>
            <td>\(\{a_0, \ldots, a_{n-1}\}\),</td>
            <td>\(m\), \(~~\) \(f : i \rightarrow T\)</td>
            <td>\(
                \{a_0, \ldots, a_{n-1}\} \text{ wh. } n >= m \\
                \{a_0, \ldots, a_{n-1}, f(n), \ldots, f(m-1)\} \text{ otherwise}
            \)</td>
        </tr>

        <tr>
            <td rowspan="3">Std</td>
            <td rowspan="3">partial_cmp</td>
            <td>\(\{a_0, \ldots, a_{i}\}\),</td>
            <td>\(\{b_0, \ldots, b_{i}, b_{i+1}, \underline{\ldots}\}\)</td>
            <td>\(\text{pcmp}(a_0, b_0) \text{ then } \ldots \text{ then } \text{pcmp}(a_i, b_i) \text{ then } \text{Less}\)</td>
        </tr>
        <tr>
            <td>\(\{a_0, \ldots, a_{i}\}\),</td>
            <td>\(\{b_0, \ldots, b_{i}\}\)</td>
            <td>\(\text{pcmp}(a_0, b_0) \text{ then } \ldots \text{ then } \text{pcmp}(a_i, b_i) \text{ then } \text{Equal}\)</td>
        </tr>
        <tr>
            <td>\(\{a_0, \ldots, a_{i}, a_{i+1}, \underline{\ldots}\}\),</td>
            <td>\(\{b_0, \ldots, b_{i}\}\)</td>
            <td>\(\text{pcmp}(a_0, b_0) \text{ then } \ldots \text{ then } \text{pcmp}(a_i, b_i) \text{ then } \text{Greater}\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>partition</td>
            <td>\(\{a_0, a_1, \ldots\}\),</td>
            <td>\(f: \text{&amp;}T \rightarrow \text{bool}\)</td>
            <td>\(([a_i \text{ for all } i \text{ wh. } f(\text{&amp;}a_i) = \text{true}], \\~~
                [a_i \text{ for all } i \text{ wh. } f(\text{&amp;}a_i) = \text{false}])\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>partition_map</td>
            <td>\(\{a_0, a_1, \ldots\}\),</td>
            <td>\(f: T \rightarrow \text{Left}(L) ~|~ \text{Right}(R)\)</td>
            <td>\(([x_i \text{ for all } i \text{ wh. } f(a_i) = \text{Left}(x_i)], \\~~
                [x_i \text{ for all } i \text{ wh. } f(a_i) = \text{Right}(x_i)])\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>rev</td>
            <td colspan="2">\(\{a_0, a_1, \ldots, a_{n-2}, a_{n-1}\}\)</td>
            <td>\(\{a_{n-1}, a_{n-2}, \ldots, a_1, a_0\}\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>scan</td>
            <td>\(\{a_0, a_1, \ldots\}\),</td>
            <td>\(s : \text{&amp;mut }S\), \(f : (\text{&amp;mut }S, T) \rightarrow \text{Some}(U) ~|~ \text{None}\)</td>
            <td>\(\{x_i \text{ for all } i \text{ wh. } f(s, a_i) = Some(x_i)\}\)</td>
        </tr>

        <tr>
            <td rowspan="2">Std</td>
            <td rowspan="2">skip</td>
            <td>\(\{a_0, \ldots, a_{i-1}, a_{i}, \ldots\}\),</td>
            <td>\(i\)</td>
            <td>\(\{a_{i}, \ldots\}\)</td>
        </tr>
        <tr>
            <td>\(\{a_0, \ldots, a_{n-1}\}\),</td>
            <td>\(i \text{ wh. } i \ge n\)</td>
            <td>\(\{\}\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>skip_while</td>
            <td>\(\{a_0, \ldots, a_i, \ldots\}\),</td>
            <td>\(p : \text{&amp;}T \rightarrow \text{bool}\)</td>
            <td>\(\{a_i, \ldots\} \text{ wh. } i \text{ is first wh. } p(\text{&amp;}a_i) \)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>sorted</td>
            <td colspan="2">\(\{a_0, \ldots\}\)</td>
            <td>\([c_0, \ldots] : \text{Vec}\langle T\rangle \text { wh. }
                c_0 \leq c_1 \leq \ldots\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>sorted_by</td>
            <td>\(\{a_0, \ldots\}\)</td>
            <td>\({}\circ{} : (\text{&amp;}T,\text{&amp;}T) \rightarrow \text{Ordering}\)</td>
            <td>\([c_0, \ldots] : \text{Vec}\langle T\rangle \text { wh. }
                c_0 \circ c_1 \circ \ldots\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>step</td>
            <td>\(\{a_0, \ldots, a_m, \ldots, a_{2m}, \ldots\}\),</td>
            <td>m</td>
            <td>\(\{a_0, a_m, a_{2m}, \ldots\}\)</td>
        </tr>

        <tr>
            <td rowspan="2">Std</td>
            <td rowspan="2">take</td>
            <td>\(\{a_0, \ldots, a_{i-1}, \underline{a_{i}, \ldots}\}\),</td>
            <td>\(i\)</td>
            <td>\(\{a_0, \ldots, a_{i-1}\}\)</td>
        </tr>
        <tr>
            <td>\(\{a_0, \ldots, a_{n-1}\}\),</td>
            <td>\(i \text{ wh. } i \ge n\)</td>
            <td>\(\{a_0, \ldots, a_{n-1}\}\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>take_while</td>
            <td>\(\{a_0, \ldots, a_{i-1}, a_i, \underline{\ldots}\}\),</td>
            <td>\(p : \text{&amp;}T \rightarrow \text{bool}\)</td>
            <td>\(\{a_0, \ldots, a_{i-1}\} \text{ wh. } i \text{ is first wh. } p(\text{&amp;}a_i) = \text{false} \)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>take_while_ref</td>
            <td>\(\text{&amp;mut }\{a_0, \ldots, a_{i-1}, \underline{a_i, \ldots}\}\),</td>
            <td>\(p : \text{&amp;}T \rightarrow \text{bool}\)</td>
            <td>\(\{a_0, \ldots, a_{i-1}\} \text{ wh. } i \text{ is first wh. } p(\text{&amp;}a_i) = \text{false} \)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>tee</td>
            <td colspan="2">\(\{a_0, a_1, \ldots\}\)</td>
            <td>\((\{a_0, a_1, \ldots\}, \{a_0, a_1, \ldots\})\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>tuple_windows</td>
            <td>\(\{a_0, \ldots\}\)</td>
            <td>\(\langle (\underbrace{\_, \_, \ldots}_{n})\rangle \)</td>
            <td>\(\{
                (a_0, \ldots, a_{n-1}),
                (a_1, \ldots, a_{n}),
                \ldots
            \}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>tuples</td>
            <td>\(\{a_0, \ldots\}\)</td>
            <td>\(\langle (\underbrace{\_, \_, \ldots}_{n})\rangle \)</td>
            <td>\(\{
                (a_0, \ldots, a_{n-1}),
                (a_{n}, \ldots, a_{2n-1}),
                \ldots
            \}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>unique</td>
            <td colspan="2">\(\{a_0, \ldots\}\)</td>
            <td>\(\{
                a_i \text{ for all } i \text{ wh. } a_i \notin \{a_0, \ldots, a_{i-1}\}
            \}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>unique_by</td>
            <td>\(\{a_0, \ldots\}\),</td>
            <td>\(f : \text{&amp;}T \rightarrow U\)</td>
            <td>\(\{
                a_i \text{ for all } i \text{ wh. } f(a_i) \notin \{f(a_0), \ldots, f(a_{i-1})\}
            \}\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>unzip</td>
            <td colspan="2">\(\{(a_0, b_0), (a_1, b_1), \ldots\}\)</td>
            <td>\(([a_0, a_1, \ldots], [b_0, b_1, \ldots])\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>while_some</td>
            <td>\(\{a_0, \ldots, a_{i-1}, a_i, \underline{\ldots}\}\),</td>
            <td></td>
            <td>\(
                \begin{array}{ll}
                \{x_j \text{ for all } j &lt; i \text{ wh. } a_j = Some(x_j)\} \\
                \text{ wh. } i \text{ is the first wh. } a_i = \text{None} \\
                \end{array}
                \)</td>
        </tr>

        <tr>
            <td rowspan="2">IT</td>
            <td rowspan="2">with_position</td>
            <td colspan="2">\(\{a_0\}\)</td>
            <td>\(\{\text{Only}(a_0)\}\)</td>
        </tr>
        <tr>
            <td colspan="2">\(\{a_0, a_1, \ldots, a_{n-2}, a_{n-1}\}\)</td>
            <td>\(\{
                \text{First}(a_0), \text{Middle}(a_1), \ldots, \\~~
                \text{Middle}(a_{n-2}), \text{Last}(a_{n-1})
            \}\)</td>
        </tr>

        <tr>
            <td rowspan="2">Std</td>
            <td rowspan="2">zip</td>
            <td>\(\{a_0, \ldots, a_i\}\),</td>
            <td>\(\{b_0, \ldots, b_i, \underline{b_{i+1}, \ldots}\}\)</td>
            <td rowspan="2">\(\{(a_0, b_0), \ldots, (a_i, b_i)\}\)</td>
        </tr>
        <tr>
            <td>\(\{a_0, \ldots, a_i, a_{i+1}, \underline{\ldots}\}\),</td>
            <td>\(\{b_0, \ldots, b_i\}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>zip_eq</td>
            <td>\(\{a_0, \ldots, a_{n-1}\}\),</td>
            <td>\(\{b_0, \ldots, b_{m-1}\}\)</td>
            <td>\(\{(a_0, b_0), \ldots, (a_{n-1}, b_{n-1})\}, \\~~
                \text{panic wh. } n \neq m\)</td>
        </tr>

        <tr>
            <td rowspan="3">IT</td>
            <td rowspan="3">zip_longest</td>
            <td>\(\{a_0, \ldots, a_{i-1}, a_i, \ldots\}\),</td>
            <td>\(\{b_0, \ldots, b_{i-1}\}\)</td>
            <td>\(\{\text{Both}(a_0, b_0), \ldots, \text{Both}(a_{i-1}, b_{i-1}), \text{Left}(a_i), \ldots\}\)</td>
        </tr>
        <tr>
            <td>\(\{a_0, \ldots, a_{i-1}\}\),</td>
            <td>\(\{b_0, \ldots, b_{i-1}\}\)</td>
            <td>\(\{\text{Both}(a_0, b_0), \ldots, \text{Both}(a_{i-1}, b_{i-1})\}\)</td>
        </tr>
        <tr>
            <td>\(\{a_0, \ldots, a_{i-1}\}\),</td>
            <td>\(\{b_0, \ldots, b_{i-1}, b_i, \ldots\}\)</td>
            <td>\(\{\text{Both}(a_0, b_0), \ldots, \text{Both}(a_{i-1}, b_{i-1}), \text{Right}(b_i), \ldots\}\)</td>
        </tr>
    </tbody>
    </table>

    <h2 id="sec-free-standing-sequences">Free-Standing Sequences</h2>

    <p><strong>Note</strong>: these adaptors are only available as free-standing functions, <em>not</em> as methods on <code>Iterator</code>s.</p>

    <table class="summary">
    <thead>
        <tr>
            <th>Lib</th>
            <th>Function</th>
            <th colspan="2">Input</th>
            <th>Output</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>IT</td>
            <td data-doc-link="https://docs.rs/itertools/*/itertools/fn.cons_tuples.html">cons_tuples</td>
            <td colspan="2">
                \(\{
                    ((a^0_0, a^1_0, \ldots), a^n_0),
                    ((a^0_1, a^1_1, \ldots), a^n_1),
                    \ldots
                \}\)
            </td>
            <td>\(\{
                (a^0_0, a^1_0, \ldots, a^n_0),
                (a^0_1, a^1_1, \ldots, a^n_1),
                \ldots
            \}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td data-doc-link="https://docs.rs/itertools/*/itertools/macro.iproduct.html">iproduct!</td>
            <td colspan="2">
                <div class="flex-cell">
                    <div>\(\{a_0, a_1, \ldots\}\),</div>
                    <div>\(\{b_0, b_1, \ldots\}\),</div>
                    <div>\(\ldots\)</div>
                </div>
            </td>
            <td>\(\{
                (a_0, b_0, \ldots), \ldots,
                (a_0, b_1, \ldots), \ldots, \\~~
                (a_1, b_0, \ldots), \ldots,
                (a_1, b_1, \ldots), \ldots
            \}\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td data-doc-link="https://docs.rs/itertools/*/itertools/macro.izip.html">izip!</td>
            <td colspan="2">
                <div class="flex-cell">
                    <div>\(\{a_0, a_1, \ldots\}\),</div>
                    <div>\(\{b_0, b_1, \ldots\}\),</div>
                    <div>\(\ldots\)</div>
                </div>
            </td>
            <td>\(\{(a_0, b_0, \ldots), (a_1, b_1, \ldots), \ldots\}\)</td>
        </tr>
    </tbody>
    </table>

    <h2 id="sec-values">Values</h2>

    <table class="summary">
    <thead>
        <tr>
            <th>Lib</th>
            <th>Method</th>
            <th colspan="2">Input</th>
            <th>Output</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td rowspan="2">Std</td>
            <td rowspan="2">all</td>
            <td>\(\text{&amp;mut }\{a_0, \ldots, a_{i-1}, a_i, \underline{\ldots}\}\)</td>
            <td rowspan="2">\(p:T \rightarrow \text{bool}\)</td>
            <td>\(p(a_0) \land \ldots \land p(a_{i-1}) \text{ wh. } i \text{ is first wh. } p(a_i) = \text{false}\)</td>
        </tr>
        <tr>
            <td>\(\text{&amp;mut }\{\}\)</td>
            <td>\(\text{true}\)</td>
        </tr>

        <tr>
            <td rowspan="3">Std</td>
            <td rowspan="3">all_equal</td>
            <td colspan="2">\(\text{&amp;mut }\{a_0, \ldots, a_{i-1}, a_i, \underline{\ldots}\}\)</td>
            <td>\((a_0 = a_1) \land \ldots \land (a_{i-1} = a_{i}) \text{ wh. } i \text{ is first wh. } a_{i-1} \neq a_i\)</td>
        </tr>
        <tr>
            <td colspan="2">\(\text{&amp;mut }\{a_0\}\)</td>
            <td>\(\text{true}\)</td>
        </tr>
        <tr>
            <td colspan="2">\(\text{&amp;mut }\{\}\)</td>
            <td>\(\text{true}\)</td>
        </tr>

        <tr>
            <td rowspan="2">Std</td>
            <td rowspan="2">any</td>
            <td>\(\text{&amp;mut }\{a_0, \ldots, a_{i-1}, a_i, \underline{\ldots}\}\)</td>
            <td rowspan="2">\(p:T \rightarrow \text{bool}\)</td>
            <td>\(p(a_0) \lor \ldots \lor p(a_{i-1}) \text{ wh. } i \text{ is first wh. } p(a_i)\)</td>
        </tr>
        <tr>
            <td>\(\text{&amp;mut }\{\}\)</td>
            <td>\(\text{false}\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>count</td>
            <td colspan="2">\(\{\underbrace{\ldots}_{n}\}\)</td>
            <td>\(n\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>find</td>
            <td>\(\text{&amp;mut }\{a_0, \ldots, a_i, \underline{\ldots}\}\),</td>
            <td>\(p : T \rightarrow \text{bool}\)</td>
            <td>
                \(\begin{array}{ll}
                    \text{Some}(a_i) &amp;\text{wh. } i \text{ is first wh. } p(\text{&amp;}a_i) \\
                    \text{None} &amp; \text{otherwise}
                \end{array}\)
            </td>
        </tr>

        <tr>
            <td>IT</td>
            <td>find_position</td>
            <td>\(\text{&amp;mut }\{a_0, \ldots, a_i, \underline{\ldots}\}\),</td>
            <td>\(p : T \rightarrow \text{bool}\)</td>
            <td>
                \(\begin{array}{ll}
                    \text{Some}((i, a_i)) &amp;\text{wh. } i \text{ is first wh. } p(\text{&amp;}a_i) \\
                    \text{None} &amp; \text{otherwise}
                \end{array}\)
            </td>
        </tr>

        <tr>
            <td rowspan="2">Std</td>
            <td rowspan="2">fold</td>
            <td>\(\{a_0, a_1, \ldots\}\),</td>
            <td rowspan="2">\(init : U\), \(\circ : (U,T) \rightarrow U\)</td>
            <td>\((((init \circ a_0) \circ a_1) \circ \ldots)\)</td>
        </tr>
        <tr>
            <td>\(\{\}\)</td>
            <td>\(init\)</td>
        </tr>

        <tr>
            <td rowspan="3">IT</td>
            <td rowspan="3">fold1</td>
            <td>\(\{a_0, a_1, a_2, \ldots\}\),</td>
            <td rowspan="3">\(\circ : (T,T) \rightarrow T\)</td>
            <td>\(\text{Some}(((a_0 \circ a_1) \circ a_2) \circ \ldots)\)</td>
        </tr>
        <tr>
            <td>\(\{a_0\}\)</td>
            <td>\(\text{Some}(a_0)\)</td>
        </tr>
        <tr>
            <td>\(\{\}\)</td>
            <td>\(\text{None}\)</td>
        </tr>

        <tr>
            <td rowspan="3">IT</td>
            <td rowspan="3">fold_options</td>
            <td>\(\text{&amp;mut }\{a_0, \ldots\}\),</td>
            <td rowspan="3">\(start : U\), \(\circ : (U,T) \rightarrow U\)</td>
            <td>
                \(
                    \text{Some}(\text{fold}(x, \circ)) \text{ wh. }
                        x = \{x_i \text{ wh. all } a_i = \text{Some}(x_i)\}
                \)
            </td>
        </tr>
        <tr>
            <td>\(\text{&amp;mut }\{\ldots, a_i, \underline{\ldots}\} \text{ wh. } a_i = \text{None}\),</td>
            <td>
                \(
                    \text{None} \text{ wh. }
                        i \text{ is first wh. } a_i = \text{None}
                \)
            </td>
        </tr>
        <tr>
            <td>\(\text{&amp;mut }\{\}\)</td>
            <td>\(\text{Some}(start)\)</td>
        </tr>

        <tr>
            <td rowspan="3">IT</td>
            <td rowspan="3">fold_results</td>
            <td>\(\text{&amp;mut }\{a_0, \ldots\}\),</td>
            <td rowspan="3">\(start : U\), \(\circ : (U,T) \rightarrow U\)</td>
            <td>
                \(
                    \text{Ok}(\text{fold}(x, \circ)) \text{ wh. }
                        x = \{x_i \text{ wh. all } a_i = \text{Ok}(x_i)\}
                \)
            </td>
        </tr>
        <tr>
            <td>\(\text{&amp;mut }\{\ldots, a_i, \underline{\ldots}\} \text{ wh. } a_i = \text{Err}(..)\),</td>
            <td>
                \(
                    \text{Err}(e) \text{ wh. }
                        i \text{ is first wh. } a_i = \text{Err}(e)
                \)
            </td>
        </tr>
        <tr>
            <td>\(\text{&amp;mut }\{\}\)</td>
            <td>\(\text{Ok}(start)\)</td>
        </tr>

        <tr>
            <td rowspan="3">IT</td>
            <td rowspan="3">fold_while</td>
            <td>\(\{a_0, \ldots, a_{n-1}\}\),</td>
            <td rowspan="3">
                \(init : U\),
                \(\circ : (U,T) \rightarrow \text{Continue}(U) ~|~ \text{Done}(U)\),
            </td>
            <td>\(
                ((init \circ x_0) \circ \ldots) \circ x_{n-1}
                \text{ wh. } a_j = \text{Continue}(x_j)
            \)</td>
        </tr>
        <tr>
            <td>\(\{a_0, \ldots, a_{j}, \underline{\ldots}\}\),</td>
            <td>\(
                ((init \circ x_0) \circ \ldots) \circ x_{i} \text{ wh. } \\~~
                    a_i = \text{Done}(x_i), \\~~
                    a_j = \text{Continue}(x_j) \text{ for all } j < i
            \)</td>
        </tr>
        <tr>
            <td>\(\{\}\)</td>
            <td>\(init\)</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>join</td>
            <td>\(\{a_0, a_1, \ldots, a_{n-1}\}\),</td>
            <td>\(sep: \text{&amp;str}\)</td>
            <td>\(
                \begin{array}{ll}
                d(a_0) \circ sep \circ d(a_1) \circ \ldots \circ sep \circ d(a_{n-1}) \text { wh.}\\~~
                d \text{ is Display::fmt, } \circ \text{ is string concatenation} \\
                \end{array}
                \)
            </td>
        </tr>

        <tr>
            <td rowspan="2">Std</td>
            <td rowspan="2">last</td>
            <td colspan="2">\(\{\ldots, a_{n-1}\}\)</td>
            <td>\(\text{Some}(a_{n-1})\)</td>
        </tr>
        <tr>
            <td colspan="2">\(\{\}\)</td>
            <td>\(\text{None}\)</td>
        </tr>

        <tr>
            <td rowspan="2">Std</td>
            <td rowspan="2">le</td>
            <td rowspan="2">\(\{a_0, \ldots, a_{n-1}\}\),</td>
            <td rowspan="2">\(\{b_0, \ldots, b_{m-1}\}\)</td>
            <td>\(\text{false} \text{ wh. } n &gt; m\)</td>
        </tr>
        <tr>
            <td>\((a_0 \leq b_0) \land \ldots \land (a_{n-1} \leq b_{n-1})\)</td>
        </tr>

        <tr>
            <td rowspan="2">Std</td>
            <td rowspan="2">lt</td>
            <td rowspan="2">\(\{a_0, \ldots, a_{n-1}\}\),</td>
            <td rowspan="2">\(\{b_0, \ldots, b_{m-1}\}\)</td>
            <td>\(\text{false} \text{ wh. } n &gt; m\)</td>
        </tr>
        <tr>
            <td>\((a_0 &lt; b_0) \land \ldots \land (a_{n-1} &lt; b_{n-1})\)</td>
        </tr>

        <tr>
            <td rowspan="3">Std</td>
            <td rowspan="3">max</td>
            <td colspan="2">\(\{a_0, a_1, a_2, \ldots\}\)</td>
            <td>\(\text{Some}(max(max(max(a_0, a_1), a_2), \ldots))\)</td>
        </tr>
        <tr>
            <td colspan="2">\(\{a_0\}\)</td>
            <td>\(\text{Some}(a_0)\)</td>
        </tr>
        <tr>
            <td colspan="2">\(\{\}\)</td>
            <td>\(\text{None}\)</td>
        </tr>

        <tr>
            <td rowspan="3">Std</td>
            <td rowspan="3">max_by</td>
            <td>\(\{a_0, \ldots\}\)</td>
            <td rowspan="3">\({}\circ{} : (\text{&amp;}T, \text{&amp;}T) \rightarrow \text{Ordering}\)</td>
            <td>\(\text{Some}(a_j) \text{ wh. } \ldots \circ a_i \circ a_j\)</td>
        </tr>
        <tr>
            <td>\(\{a_0\}\)</td>
            <td>\(\text{Some}(a_0)\)</td>
        </tr>
        <tr>
            <td>\(\{\}\)</td>
            <td>\(\text{None}\)</td>
        </tr>

        <tr>
            <td rowspan="3">Std</td>
            <td rowspan="3">max_by_key</td>
            <td>\(\{a_0, \ldots\}\)</td>
            <td rowspan="3">\(f : \text{&amp;}T \rightarrow B\)</td>
            <td>\(\text{Some}(a_i) \text{ wh.}\\~~
            b = max(\{f(a_0), \ldots\}), i \text{ is the last wh. } f(a_i) = b\)</td>
        </tr>
        <tr>
            <td>\(\{a_0\}\)</td>
            <td>\(\text{Some}(a_0)\)</td>
        </tr>
        <tr>
            <td>\(\{\}\)</td>
            <td>\(\text{None}\)</td>
        </tr>

        <tr>
            <td rowspan="3">Std</td>
            <td rowspan="3">min</td>
            <td colspan="2">\(\{a_0, a_1, a_2, \ldots\}\)</td>
            <td>\(\text{Some}(min(min(min(a_0, a_1), a_2), \ldots))\)</td>
        </tr>
        <tr>
            <td colspan="2">\(\{a_0\}\)</td>
            <td>\(\text{Some}(a_0)\)</td>
        </tr>
        <tr>
            <td colspan="2">\(\{\}\)</td>
            <td>\(\text{None}\)</td>
        </tr>

        <tr>
            <td rowspan="3">IT</td>
            <td rowspan="3">minmax</td>
            <td colspan="2">\(\{\}\)</td>
            <td>\(\text{NoElements}\)</td>
        </tr>
        <tr>
            <td colspan="2">\(\{a_0\}\)</td>
            <td>\(\text{OneElement}(a_0)\)</td>
        </tr>
        <tr>
            <td colspan="2">\(\{a_0, \ldots\}\)</td>
            <td>\(\text{MinMax}(\text{min}(a), \text{max}(a))\)</td>
        </tr>

        <tr>
            <td rowspan="3">IT</td>
            <td rowspan="3">minmax_by</td>
            <td>\(\{\}\),</td>
            <td rowspan="3">\({}\circ{} : (\text{&amp;}T,\text{&amp;}T) \rightarrow \text{Ordering}\)</td>
            <td>\(\text{NoElements}\)</td>
        </tr>
        <tr>
            <td>\(\{a_0\}\)</td>
            <td>\(\text{OneElement}(a_0)\)</td>
        </tr>
        <tr>
            <td>\(\{a_0, \ldots\}\)</td>
            <td>\(\text{MinMax}(\text{min_by}(a, {}\circ{}), \text{max_by}(a, {}\circ{}))\)</td>
        </tr>

        <tr>
            <td rowspan="3">IT</td>
            <td rowspan="3">minmax_by_key</td>
            <td>\(\{\}\),</td>
            <td rowspan="3">\(f : \text{&amp;}T \rightarrow K\)</td>
            <td>\(\text{NoElements}\)</td>
        </tr>
        <tr>
            <td>\(\{a_0\}\)</td>
            <td>\(\text{OneElement}(a_0)\)</td>
        </tr>
        <tr>
            <td>\(\{a_0, \ldots\}\)</td>
            <td>\(\text{MinMax}(\text{min_by_key}(a, f), \text{max_by_key}(a, f))\)</td>
        </tr>

        <tr>
            <td rowspan="3">Std</td>
            <td rowspan="3">min_by</td>
            <td>\(\{a_0, \ldots\}\)</td>
            <td rowspan="3">\({}\circ{} : (\text{&amp;}T, \text{&amp;}T) \rightarrow \text{Ordering}\)</td>
            <td>\(\text{Some}(a_i) \text{ wh. } a_i \circ a_j \circ \ldots\)</td>
        </tr>
        <tr>
            <td>\(\{a_0\}\)</td>
            <td>\(\text{Some}(a_0)\)</td>
        </tr>
        <tr>
            <td>\(\{\}\)</td>
            <td>\(\text{None}\)</td>
        </tr>

        <tr>
            <td rowspan="3">Std</td>
            <td rowspan="3">min_by_key</td>
            <td>\(\{a_0, \ldots\}\)</td>
            <td rowspan="3">\(f : \text{&amp;}T \rightarrow B\)</td>
            <td>\(\text{Some}(a_i) \text{ wh.}\\~~
            b = min(\{f(a_0), \ldots\}), i \text{ is the last wh. } f(a_i) = b\)</td>
        </tr>
        <tr>
            <td>\(\{a_0\}\)</td>
            <td>\(\text{Some}(a_0)\)</td>
        </tr>
        <tr>
            <td>\(\{\}\)</td>
            <td>\(\text{None}\)</td>
        </tr>

        <tr>
            <td rowspan="2">Std</td>
            <td rowspan="2">ne</td>
            <td rowspan="2">\(\{a_0, \ldots, a_{n-1}\}\),</td>
            <td rowspan="2">\(\{b_0, \ldots, b_{m-1}\}\),</td>
            <td>\(\text{true} \text{ wh. } n \neq m\)</td>
        </tr>
        <tr>
            <td>\((a_0 \neq b_0) \land \ldots \land (a_{n-1} \neq b_{n-1})\)</td>
        </tr>

        <tr>
            <td rowspan="2">IT</td>
            <td rowspan="2">next_tuple</td>
            <td>\(\text{&amp;mut }\{a_0, \ldots, a_{n-1}\}\)</td>
            <td rowspan="2">\(\langle (\underbrace{\_, \_, \ldots}_{m})\rangle \)</td>
            <td>\(\text{None} \text{ wh. } n < m\)</td>
        </tr>
        <tr>
            <td>\(\text{&amp;mut }\{a_0, \ldots, a_{m-1}, \underline{a_{m}, \ldots}\}\)</td>
            <td>\(\text{Some}((a_0, \ldots, a_{m-1}))\)</td>
        </tr>

        <tr>
            <td rowspan="2">Std</td>
            <td rowspan="2">nth</td>
            <td>\(\text{&amp;mut }\{\underbrace{\ldots}_{i-1}, a_i, \underline{\ldots}\}\),</td>
            <td>\(i\)</td>
            <td>\(\text{Some}(a_i)\)</td>
        </tr>
        <tr>
            <td>\(\text{&amp;mut }\{\underbrace{\ldots}_{{}&lt;i}\}\),</td>
            <td>\(i\)</td>
            <td>\(\text{None}\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>position</td>
            <td>\(\text{&amp;mut }\{a_0, \ldots, a_i, \underline{\ldots}\}\),</td>
            <td>\(p : T \rightarrow \text{bool}\)</td>
            <td>
                \(\begin{array}{ll}
                    \text{Some}(i) &amp;\text{wh. } i \text{ is first wh. } p(\text{&amp;}a_i) \\
                    \text{None} &amp; \text{otherwise}
                \end{array}\)
            </td>
        </tr>

        <tr>
            <td rowspan="3">Std</td>
            <td rowspan="3">product</td>
            <td colspan="2">\(\{a_0, a_1, \ldots\}\)</td>
            <td>\(((a_0 \times a_1) \times \ldots)\)</td>
        </tr>
        <tr>
            <td colspan="2">\(\{a_0\}\)</td>
            <td>\(a_0\)</td>
        </tr>
        <tr>
            <td colspan="2">\(\{\}\)</td>
            <td>\(1\)</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>rposition</td>
            <td>\(\text{&amp;mut }\{\underline{a_0, \ldots}, a_i, \ldots\}\),</td>
            <td>\(p : T \rightarrow \text{bool}\)</td>
            <td>
                \(\begin{array}{ll}
                    \text{Some}(i) &amp;\text{wh. } i \text{ is last wh. } p(\text{&amp;}a_i) \\
                    \text{None} &amp; \text{otherwise}
                \end{array}\)
            </td>
        </tr>

        <tr>
            <td rowspan="3">IT</td>
            <td rowspan="3">set_from</td>
            <td>\(\text{&amp;mut }\{a_0, \ldots, a_{i-1}, \underline{a_i, \ldots}\} : \{\text{&amp;mut }T\}\)</td>
            <td>\(\{b_0, \ldots, b_{i-1}\} : \{T\}\)</td>
            <td rowspan="3">\(i\), with side effect: \(\circ a_j = b_j\)</td>
        </tr>
        <tr>
            <td>\(\text{&amp;mut }\{a_0, \ldots, a_{i-1}\} : \{\text{&amp;mut }T\}\)</td>
            <td>\(\{b_0, \ldots, b_{i-1}\} : \{T\}\)</td>
        </tr>
        <tr>
            <td>\(\text{&amp;mut }\{a_0, \ldots, a_{i-1}\} : \{\text{&amp;mut }T\}\)</td>
            <td>\(\{b_0, \ldots, b_{i-1}, \underline{b_i, \ldots}\} : \{T\}\)</td>
        </tr>

        <tr>
            <td rowspan="3">Std</td>
            <td rowspan="3">sum</td>
            <td colspan="2">\(\{a_0, a_1, \ldots\}\)</td>
            <td>\(((a_0 + a_1) + \ldots)\)</td>
        </tr>
        <tr>
            <td colspan="2">\(\{a_0\}\)</td>
            <td>\(a_0\)</td>
        </tr>
        <tr>
            <td colspan="2">\(\{\}\)</td>
            <td>\(0\)</td>
        </tr>
    </tbody>
    </table>

    <h2 id="sec-other">Other</h2>

    <table class="summary">
    <thead>
        <tr>
            <th>Lib</th>
            <th>Method</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>IT</td>
            <td data-doc-link="https://docs.rs/itertools/*/itertools/fn.assert_equal.html">assert_equal</td>
            <td>Ensures the items in two iterators match exactly, panicking with a descriptive message on how and where they differ.</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>by_ref</td>
            <td>Lets you act on a sequence by reference; <em>i.e.</em> calls that would normally <em>consume</em> the iterator will no longer do so.  Note that this can have slightly unintuitive effects depending on what iterator methods are used on the result.  <em>e.g.</em> \(\text{take_while}\) must <em>necessarily</em> consume one more element than is returned in order to detect the termination condition; this element is consumed and does not remain in the underlying sequence.</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>cloned</td>
            <td>Returns an iterator which calls <code>Clone::clone</code> on each element of the input.  This is commonly used to turn an <code>Iterator&lt;Item=&amp;T></code> into an <code>Iterator&lt;Item=T></code>.</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>combinations</td>
            <td>Returns all in-order, unique combinations of length \(n\) without replacement.  Each combination is a <code>Vec</code> of length \(n\).</td>
        </tr>

        <tr>
            <td>IT</td>
            <td data-doc-link="https://docs.rs/itertools/*/itertools/fn.diff_with.html">diff_with</td>
            <td>Determines where and how two iterators differ.</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>foreach</td>
            <td>Eagerly executes a closure \(f\) on each element of the sequence.</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>format</td>
            <td>Returns a thunk which formats each item in the iterator, separated by \(\text{sep}\).</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>format_with</td>
            <td>Like <code link>format</code>, except that it also accepts a callable used to customise the formatting for each item.</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>fuse</td>
            <td>Guarantees that once the input returns \(\text{None}\), it will <em>always</em> return \(\text{None}\).</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>inspect</td>
            <td>Calls a closure for each element in a sequence, without modifying the sequence in any way.</td>
        </tr>

        <tr>
            <td>IT</td>
            <td data-doc-link="https://docs.rs/itertools/*/itertools/fn.multipeek.html">multipeek</td>
            <td>Allows you to preview (peek at) an unbounded number of future items in the sequence without removing them.</td>
        </tr>

        <tr>
            <td>IT</td>
            <td data-doc-link="https://docs.rs/itertools/*/itertools/fn.multizip.html">multizip</td>
            <td>Generalises <code link>zip</code> for up to 8 iterators.</td>
        </tr>

        <tr>
            <td>Std</td>
            <td>peekable</td>
            <td>Allows you to preview (peek at) the next item in the sequence without removing it.</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>peeking_take_while</td>
            <td>Like <code link>take_while_ref</code>, but works on peekable iterators rather than cloneable ones.</td>
        </tr>

        <tr>
            <td>IT</td>
            <td data-doc-link="https://docs.rs/itertools/*/itertools/fn.put_back.html">put_back</td>
            <td>Creates an iterator where you can "put back" one item.</td>
        </tr>

        <tr>
            <td>IT</td>
            <td data-doc-link="https://docs.rs/itertools/*/itertools/fn.put_back_n.html">put_back_n</td>
            <td>Creates an iterator where you can "put back" an arbitrary number of items.</td>
        </tr>

        <tr>
            <td>IT</td>
            <td data-doc-link="https://docs.rs/itertools/*/itertools/fn.rciter.html">rciter</td>
            <td>Wraps an iterator such that it can be iterated by multiple handles.</td>
        </tr>

        <tr>
            <td>IT</td>
            <td>tuple_combinations</td>
            <td>Returns all in-order, unique combinations of length \(n\) without replacement.  Each combination is a tuple of length \(n\).</td>
        </tr>
    </tbody>
    </table>

    <h2 id="sec-notes">Notes</h2>

    <dl class="qna">
        <dt>Q: Who is the audience for this?</dt>
        <dd>
            <p>Definitely <em>not</em> absolute beginners!</p>
            <p>The problem is that beginner-friendly descriptions of the available iterator methods are long and wordy, which makes them difficult to quickly scan through.  Summarising them requires notation, and there are enough different kinds of behaviours that the notation needs to be relatively extensive.</p>
            <p>I've <em>tried</em> to keep the notation used as simple as possible, but that can only go so far.  My <em>primary</em> concern with this is creating a summary that can be skimmed relatively quickly, not to make iterators accessible to beginners.</p>
        </dd>
    </dl>

    <p>This work is licensed under the <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>

    <script class="build-only" type="text/javascript">

    "use strict";

    // Add library source classes.
    var LIBS = {
        'std': {
            'name': 'std',
            'display': 'Std',
            'trait_url': "http://doc.rust-lang.org/std/iter/trait.Iterator.html",
        },
        'itertools': {
            'name': 'itertools',
            'display': 'IT',
            'trait_url': "https://docs.rs/itertools/*/itertools/trait.Itertools.html",
        },
    };

    function do_trs(trs, lib_name) {
        trs.addClass("lib-"+lib_name);
        trs.attr("data-lib", lib_name);
    }

    for (var lib_name in LIBS) {
        var lib = LIBS[lib_name];

        var lib_tds = $("table.summary tr > td:nth-child(1):contains('"+lib.display+"')");
        var lib_tds = lib_tds.toArray();

        // Do it this way so that we can handle rowspan'd summaries.
        for (var i = 0; i < lib_tds.length; i++) {
            var lib_td = lib_tds[i];
            $(lib_td).addClass("lib");
            $(lib_td.nextElementSibling).addClass("method-name");

            var rows = (+lib_td.getAttribute("rowspan")) || 1;

            var cur_tr = lib_td.parentNode;

            // This one, and this one *alone*, gets `.primary`.
            $(cur_tr).addClass("primary");

            // Now process them all.
            for (var j = 0; j < rows; j++) {
                do_trs($(cur_tr), lib.name);
                cur_tr = cur_tr.nextElementSibling;
            };
        };
    };

    // Promote tags to classes.
    $("table.summary tr[data-tags]").each(function () {
        var self = $(this)[0];
        var tags = self.getAttribute("data-tags").trim().split(/\s+/);
        for (var i = 0; i < tags.length; i++) {
            var tag = tags[i];
            self.classList.add("tag-"+tag);
        };
    });

    // Reformat all the method names in the summary.
    $("table.summary tr.primary > td:nth-child(2)").each(function () {
        var self = $(this)[0];
        var name = $(this).text();

        var lib = $(this)[0].parentNode.getAttribute("data-lib");
        var doc_url = $(this)[0].getAttribute("data-doc-link");

        // Guess at the doc link if one wasn't provided.
        if(!doc_url)
            doc_url = LIBS[lib].trait_url + "#method." + name;

        // Let MathJax format this for consistency.
        $(this).text("\\(\\text{" + name + "}\\)");

        // Set up link.
        $(this).wrapInner("<a href=\""+doc_url+"\"></a>");

        // Set link target.
        $(this).closest('tr').attr('id', name);
    });

    // Add an extra div to flex-cells for spacing.
    $("table.summary .flex-cell").each(function() {
        let self = $(this)[0];
        self.appendChild(document.createElement("div"));
    });

    // Link code tags.
    $("code[link]").wrap(function() {
        return "<a href='#"+$(this).text()+"'></a>";
    });

    // Set up quick links.
    (function() {
        let sections = $("h2[id]").map(function() {
            return "<a href='#"+this.id+"''>" + this.innerHTML + "</a>";
        });

        let src = sections[0];
        for (var i = 1; i < sections.length; i++) {
            src = src + ", " + sections[i];
        }

        $("#jump-list")[0].innerHTML = src;
    })();

    function post_build() {
        // Kill all build nodes.
        $(".cut-during-build").remove();
        $(".build-only").remove();
        $("#build-status").remove();

        // Clean up other cruft.
        $("#MathJax_Message").remove();
    }

    MathJax.Hub.Register.StartupHook("End", post_build);

    </script><script type="text/javascript">

    "use strict";

    // Set up filters.
    function check_elem_vis(elem, filters) {
        for (var i = 0; i < elem.classList.length; i++) {
            var klass = elem.classList[i];
            if(klass.search(/^lib-|tag-/) === 0) {
                if(filters[klass] !== true) {
                    return false;
                }
            }
        }
        return true;
    }

    function get_filters() {
        var filters = {};

        var lib_toggles = document.querySelectorAll("input.lib-toggle");
        for (var i = 0; i < lib_toggles.length; i++) {
            var lib_toggle = lib_toggles[i];
            var name = lib_toggle.getAttribute("data-lib");
            filters['lib-'+name] = lib_toggle.checked;
        };

        var tag_toggles = document.querySelectorAll("input.tag-toggle");
        for (var i = 0; i < tag_toggles.length; i++) {
            var tag_toggle = tag_toggles[i];
            var name = tag_toggle.getAttribute("data-tag");
            filters['tag-'+name] = tag_toggle.checked;
        };

        return filters;
    }

    function handle_filter_change(filter_changed) {
        var filters = get_filters();

        var query;
        if(filter_changed === '*')
            query = "table.summary tr";
        else
            query = "table.summary tr." + filter_changed;

        var trs = document.querySelectorAll(query);

        for (var i = 0; i < trs.length; i++) {
            var tr = trs[i];
            var display_val;
            if(check_elem_vis(tr, filters)) display_val = "";
            else display_val = "none";
            tr.style.display = display_val;
        };
    }

    function handle_lib_toggle(elem) {
        var lib = elem.getAttribute("data-lib");
        handle_filter_change("lib-"+lib);
    }

    function handle_tag_toggle(elem) {
        var tag = elem.getAttribute("data-tag");
        handle_filter_change("tag-"+tag);
    }

    (function () {
        var lib_toggles = document.querySelectorAll("input.lib-toggle[type='checkbox']");
        for (var i = 0; i < lib_toggles.length; i++) {
            var lib_toggle = lib_toggles[i];
            lib_toggle.addEventListener("change", function(){handle_lib_toggle(this)});
        };

        var tag_toggles = document.querySelectorAll("input.tag-toggle[type='checkbox']");
        for (var i = 0; i < tag_toggles.length; i++) {
            var tag_toggle = tag_toggles[i];
            tag_toggle.addEventListener("change", function(){handle_tag_toggle(this)});
        };

        handle_filter_change('*');
    })();

    </script>
</body>
</html>
